createSecrets: true

ssdKafkaIntegrationAdapterConfigs:
  files:
    project-tools-filters.json: |
      {
        "sc": [
          {
            "propertyKeyRegex": "endpoint",
            "filters": [
              {
                "order": 1,
                "originalRegex": "https?://[^/?#]+",
                "replacement": "https://onework.domain.ru/sc"
              }
            ]
          },
          {
            "propertyKeyRegex": "prop",
            "filters": [
              {
                "order": 1,
                "originalRegex": "replace",
                "replacement": "newReplace"
              }
            ]
          }
        ],
        "dpm": [
          {
            "propertyKeyRegex": "endpoint",
            "filters": [
              {
                "order": 1,
                "originalRegex": "https?://[^/?#]+",
                "replacement": "https://onework.domain.ru/dpm"
              }
            ]
          },
          {
            "propertyKeyRegex": "prop",
            "filters": [
              {
                "order": 1,
                "originalRegex": "dpmReplace",
                "replacement": "newDpmReplace"
              }
            ]
          }
        ]
      }

ssdRoleManager:
  enable: true
  envInSecret:
    #SSD_ROLE_MANAGER_KC_USER: '__SSD_ROLE_MANAGER_KC_USER__'
    SSD_ROLE_MANAGER_KC_USER: 'onework-sa'
    #SSD_ROLE_MANAGER_KC_SECRET: '__SSD_ROLE_MANAGER_KC_SECRET__'
    SSD_ROLE_MANAGER_KC_SECRET: 'RijJarpIvUeu5ooNQRyRZCUxSTkCteR0'
#  secretFiles:
#    base-role-model-override.json: |
#      [
#         {
#             "roleName": "project_coordinator",
#             "roleDescription": "Координатор проекта",
#             "roleLevel": "PROJECT",
#             "isTuz": false,
#             "permissions": {
#                 "nci":      "r", 
#                 "jcd":      "r", 
#                 "jci":      "r", 
#                 "ncd":      "r",
#                 "dpm":      "r", 
#                 "snr":      "r", 
#                 "track":    "a", 
#                 "view":     "r", 
#                 "dpt":      "r", 
#                 "dslab":    "a",
#                 "swtr":     "a"
#              }
#         },
#         {
#             "roleName": "organization_coordinator",
#             "roleDescription": "Координатор организации",
#             "roleLevel": "ORG",
#             "isTuz": false,
#             "permissions": {
#                 "nci":      "r", 
#                 "jcd":      "r", 
#                 "jci":      "r", 
#                 "ncd":      "r",
#                 "dpm":      "r", 
#                 "snr":      "r", 
#                 "track":    "r", 
#                 "view":     "r", 
#                 "dpt":      "r", 
#                 "dslab":    "r",
#                 "swtr":     "r"
#              }
#         },
#         {
#             "roleName": "architect",
#             "roleDescription": "Архитектор",
#             "roleLevel": "PROJECT",
#             "isTuz": false,
#             "permissions": {
#                 "nci":      "r", 
#                 "jcd":      "r", 
#                 "jci":      "r", 
#                 "ncd":      "r", 
#                 "dpm":      "r", 
#                 "snr":      "r", 
#                 "track":    "w", 
#                 "view":     "r", 
#                 "dpt":      "r", 
#                 "dslab":    "w",
#                 "swtr":     "w"
#              }
#         },
#         {
#             "roleName": "product_owner",
#             "roleDescription": "Владелец продукта",
#             "roleLevel": "PROJECT",
#             "isTuz": false,
#             "permissions": {
#                 "nci":      "r", 
#                 "jcd":      "r", 
#                 "jci":      "r", 
#                 "ncd":      "r", 
#                 "dpm":      "x", 
#                 "snr":      "w", 
#                 "track":    "a", 
#                 "view":     "r", 
#                 "dpt":      "x", 
#                 "dslab":    "a",
#                 "swtr":     "a"
#              }
#         },
#         {
#             "roleName": "project_manager",
#             "roleDescription": "Руководитель проекта",
#             "roleLevel": "PROJECT",
#             "isTuz": false,
#             "permissions": {
#                 "nci":      "r", 
#                 "jcd":      "r", 
#                 "jci":      "r", 
#                 "ncd":      "r", 
#                 "dpm":      "r", 
#                 "snr":      "w", 
#                 "track":    "a", 
#                 "view":     "r", 
#                 "dpt":      "r", 
#                 "dslab":    "a",
#                 "swtr":     "a"
#              }
#         },
#         {
#             "roleName": "developer",
#             "roleDescription": "Разработчик",
#             "roleLevel": "PROJECT",
#             "isTuz": false,
#             "permissions": {
#                 "nci":      "x", 
#                 "jcd":      "r", 
#                 "jci":      "w", 
#                 "ncd":      "r", 
#                 "dpm":      "r", 
#                 "snr":      "x", 
#                 "track":    "w", 
#                 "view":     "r", 
#                 "dpt":      "x", 
#                 "dslab":    "w",
#                 "swtr":     "x"
#              }
#         },
#         {
#             "roleName": "analyst",
#             "roleDescription": "Аналитик",
#             "roleLevel": "PROJECT",
#             "isTuz": false,
#             "permissions": {
#                 "nci":      "r", 
#                 "jcd":      "r", 
#                 "jci":      "r", 
#                 "ncd":      "r", 
#                 "dpm":      "r", 
#                 "snr":      "r", 
#                 "track":    "w", 
#                 "view":     "r", 
#                 "dpt":      "r", 
#                 "dslab":    "w",
#                 "swtr":     "x"
#              }
#         },
#         {
#             "roleName": "team_lead_development",
#             "roleDescription": "Тим-лид разработки",
#             "roleLevel": "PROJECT",
#             "isTuz": false,
#             "permissions": {
#                 "nci":      "a", 
#                 "jcd":      "r", 
#                 "jci":      "a", 
#                 "ncd":      "r", 
#                 "dpm":      "w", 
#                 "snr":      "w", 
#                 "track":    "a", 
#                 "view":     "r", 
#                 "dpt":      "a", 
#                 "dslab":    "w",
#                 "swtr":     "a"
#              }
#         },
#         {
#             "roleName": "support_team_lead",
#             "roleDescription": "Тим-лид поддержки",
#             "roleLevel": "PROJECT",
#             "isTuz": false,
#             "permissions": {
#                 "nci":      "w", 
#                 "jcd":      "w", 
#                 "jci":      "w", 
#                 "ncd":      "w", 
#                 "dpm":      "a", 
#                 "snr":      "w", 
#                 "track":    "w", 
#                 "view":     "r", 
#                 "dpt":      "w", 
#                 "dslab":    "w",
#                 "swtr":     "a"
#              }
#         },
#         {
#             "roleName": "support_engineer",
#             "roleDescription": "Инженер поддержки",
#             "roleLevel": "PROJECT",
#             "isTuz": false,
#             "permissions": {
#                 "nci":      "x", 
#                 "jcd":      "x", 
#                 "jci":      "x", 
#                 "ncd":      "x", 
#                 "dpm":      "w", 
#                 "snr":      "x", 
#                 "track":    "w", 
#                 "view":     "r", 
#                 "dpt":      "x", 
#                 "dslab":    "x",
#                 "swtr":     "x"
#              }
#         },
#         {
#             "roleName": "tester",
#             "roleDescription": "Тестировщик",
#             "roleLevel": "PROJECT",
#             "isTuz": false,
#             "permissions": {
#                 "nci":      "r", 
#                 "jcd":      "x", 
#                 "jci":      "x", 
#                 "ncd":      "r", 
#                 "dpm":      "x", 
#                 "snr":      "x", 
#                 "track":    "w", 
#                 "view":     "r", 
#                 "dpt":      "r", 
#                 "dslab":    "x",
#                 "swtr":     "x"
#              }
#         },
#         {
#             "roleName": "devops",
#             "roleDescription": "DevOps",
#             "roleLevel": "PROJECT",
#             "isTuz": false,
#             "permissions": {
#                 "nci":      "a",
#                 "jcd":      "a",
#                 "jci":      "a",
#                 "ncd":      "a",
#                 "dpm":      "a",
#                 "snr":      "a",
#                 "track":    "a",
#                 "view":     "r",
#                 "dpt":      "r",
#                 "dslab":    "x",
#                 "swtr":     "a"
#              }
#         },
#         {
#             "roleName": "designer",
#             "roleDescription": "Дизайнер",
#             "roleLevel": "PROJECT",
#             "isTuz": false,
#             "permissions": {
#                 "nci":      "r",
#                 "jcd":      "r",
#                 "jci":      "r",
#                 "ncd":      "r",
#                 "dpm":      "r",
#                 "snr":      "r",
#                 "track":    "w",
#                 "view":     "r",
#                 "dpt":      "r",
#                 "dslab":    "r",
#                 "swtr":     "x"
#              }
#         },
#         {
#             "roleName": "member",
#             "roleDescription": "Пользователь",
#             "roleLevel": "ANY",
#             "isTuz": false,
#             "permissions": {
#                 "nci":      "r",
#                 "jcd":      "r",
#                 "jci":      "r",
#                 "ncd":      "r",
#                 "dpm":      "r",
#                 "snr":      "r",
#                 "track":    "r",
#                 "view":     "r",
#                 "dpt":      "r",
#                 "dslab":    "r",
#                 "swtr":     "r"
#              }
#         },
#        {
#              "roleName": "tuz_role_example",
#              "roleDescription": "ТУЗ",
#              "roleLevel": "PROJECT",
#              "isTuz": true,
#              "permissions": {
#                "nci":       "w",
#                "ncd":       "w",
#                "jci":       "x",
#                "jcd":       "x",
#                "snr":       "x",
#                "track":     "r",
#                "swtr":      "x"
#              }
#        }
#      ]

ssdAiService:
  enable: false
  envInSecret:
    SSD_AI_SERVICE_SECRETS_GIGA_CLIENT_ID: '__SSD_AI_SERVICE_SECRETS_GIGA_CLIENT_ID__'
    SSD_AI_SERVICE_SECRETS_GIGA_CLIENT_SECRET: '__SSD_AI_SERVICE_SECRETS_GIGA_CLIENT_SECRET__'
    SSD_AI_SERVICE_SECRETS_GIGA_RQ_UID: '__SSD_AI_SERVICE_SECRETS_GIGA_RQ_UID__'

# IF SOME DEFAULT OBJECTS SHOULD BE CREATED AT STARTUP
ssdCoreData:
  secretFiles:
    default-objects.yml: |
      app:
        default-objects:
              adapters:
                - description: "adapter-key"
                  adapterKey: "adapter-key"
                  homeUrl: "http://adapter.root.url.com"
              tools:
                - tool_key: "toolkey"
                  tool_name: "Имя инструмента"
                  description: "Описание инструмента"
                  active: true
                  order: 0
                  adapter_key: "adapter-key"
                  url: "http://tool.root.url.com"
                  tool-type: "undefined"
                  tool-in-type-ordnum: 0
              organizations:
                - name: "Имя организации"
                  key: "orgkey"
                  description: "Описание организации"
                  ownerLogin: "userlogin"
                  organizations-tools: [ "toolkey" ]

# menu-configs-override.json and menu-assets-override.json - IF SOME DEFAULT OBJECTS SHOULD BE CREATED AT STARTUP
ssdSideMenuBackend:
  enable: true
  #enable: false
  secretFiles:
    plugins-config.yml: |
      app:
        plugins:
          configuration:
            aisa:
              track:                            # для каждого инструмента нужно задать такую индивидуальную конфигурацию
                apiKey: ebfddd4b7f3a5ccd01
                hostType: dev
                baseApiUrl: https://works.domain.ru/ssd/aisa/api/v1
                entry: https://works.domain.ru/ssd/aisa/mf-manifest.json
                #endpoints: - если отличается от указанной далее конфигурации "по умолчанию"
                #  summary: ask
                #  questionAnswers: findQuestionsAnswers
    menu-configs-override.json: |
      [
        {
          "tenantId": "/orgkey",
          "schemaVersion": "1.0",
          "content": {}
        }
      ]
    menu-assets-override.json: |
      {
        "assetsConfigurations": [
          {
            "type": "icon",
            "key": "newKey",
            "value": "newValue"
          }
        ],
        "propertiesConfigurations": [
          {
            "key": "newProp1",
            "value": "newValue"
          }
        ]
      }
